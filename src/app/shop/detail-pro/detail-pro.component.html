<main id="main-container" class="main-container">
    <div class="container">
        <div class="row">
            <!-- Start Product Details Gallery -->
            <div class="col-12" style="margin-top: 5px;">
                <div class="product-details">
                    <div class="row">
                        <!-- <div class="col-md-12" style="border-bottom: 1px solid rgb(212, 211, 211); display: flex; justify-content: space-between;margin-top: 15px;">
                                <div class="pro-name">
                                    <h1 style="font-size: 19px;">{{product.name}}</h1>
                                </div>
                                <div class="sub-content">
                                    <a (click)="viewComment()">{{product.comment}} Comment</a> 
                                </div>
                            </div> -->
                        <div class="col-md-6" id="slide" >
                            <div id="home-slideshow" class="carousel slide" data-ride="carousel">
                                <ol class="carousel-indicators">
                                    <li data-target="#home-slideshow" data-slide-to="0" class="active"></li>
                                    <li data-target="#home-slideshow" data-slide-to="1"></li>
                                    <li data-target="#home-slideshow" data-slide-to="2"></li>
                                </ol>
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img src="../../../assets/img/product/{{product.image}}" class="d-block w-100"
                                            alt="...">

                                    </div>
                                    <div *ngFor="let i of img" class="carousel-item">
                                        <img src="../../../assets/img/product/{{i.image}}" class="d-block w-100"
                                            alt="...">

                                    </div>

                                </div>
                                <a class="carousel-control-prev" href="#home-slideshow" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a class="carousel-control-next" href="#home-slideshow" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                </a>

                            </div>

                            <style>
                                .carousel-control-prev {
                                    height: 300px;
                                }
                                .carousel-control-next {
                                    height: 300px;
                                }
                                .carousel-inner {
                                    height: 400px;
                                }

                                .product__price {
                                    display: flex;
                                    justify-content: space-between;
                                }

                                .product__price button i {
                                    color: royalblue;
                                }

                                .product__price button {
                                    padding: 10px;
                                    border: 1px solid royalblue;
                                    border-radius: 10px;
                                    color: royalblue;
                                }

                                .product__price button:hover {
                                    background-color: royalblue;
                                    color: white;
                                }

                                .product__price button:hover #icon {
                                    background-color: royalblue;
                                    color: white;
                                }

                                .item img {
                                    position: absolute;
                                    top: 0;
                                    left: 0;
                                    min-height: 300px;
                                }

                                #btn-slideshow {
                                    width: 200px;
                                }

                                .product__price-reg {
                                    padding-top: 5px;
                                }

                                #ctn {
                                    padding-top: 10px;
                                }

                                .product-details-box {
                                    margin: 15px;
                                }

                                .product-details-box div {
                                    margin: 15px;
                                }

                                .info div {
                                    border-top: 1px grey solid;
                                }
                            </style>
                            <div class="lable">
                                <h2>Thông tin sản phẩm</h2>
                            </div>
                            <div class="des">
                                <span style="line-height: 30px;">{{product.description}}</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="product-details-box1" >
                                <h1 class="section-content__title" style="font-size: 25px; line-height: 30px; white-space: normal;">{{product.name}}</h1>

                                <div class="rview-box" style="display: flex;">
                                   
                                    <div class="star" style="display: flex;">
                                        <span style="color: white;"><i class="fa fa-star" aria-hidden="true"></i> <span>{{product.star}} Star</span></span>
                                    </div>&nbsp;
                                    <div class="cmt-rv" style="margin-left: 5px;">
                                        <span (click)="viewComment()" id="lnk">({{product.comment}})  Bình luận</span>
                                    </div>

                                    </div>
                                   
                                  

                              
                                <div *ngIf="product.salePrice>0" class="product__price">
                                    <div class="price" style="display: block;">
                                        <span class="product__price-del">{{product.price | currency:'VND'}}</span>
                                        <span class="product__price-reg" style="font-size: 30px;">{{product.salePrice |
                                            currency:'VND'}}</span>
                                    </div>


                                    <button (click)="addCart(product.id)"><i id="icon" class="fa fa-cart-plus"></i>
                                        Thêm vào giỏ hàng </button>
                                </div>
                                <div *ngIf="product.salePrice==0" class="product__price">

                                    <span class="product__price-reg" style="font-size: 30px;">{{product.price |
                                        currency:'VND'}}</span>


                                    <button (click)="addCart(product.id)"><i id="icon" class="fa fa-cart-plus"></i>
                                        Thêm vào giỏ hàng </button>
                                </div>
                                <div class="info" style="margin-top: 5px;">
                                    <table>
                                        <tbody>
                                            <tr>
                                                <td id="lable-pro" style="width: 150px;">RAM:</td>
                                                <td>{{product.ram}}</td>
                                            </tr>
                                            <tr>
                                                <td id="lable-pro">CPU:</td>
                                                <td>{{product.cpu}}</td>
                                            </tr>
                                            <tr>
                                                <td id="lable-pro">Hệ điều hành:</td>
                                                <td>{{product.os}}</td>
                                            </tr>
                                            <tr>
                                                <td id="lable-pro">Card màn hình:</td>
                                                <td>{{product.vga}}</td>
                                            </tr>
                                            <tr>
                                                <td id="lable-pro">Cổng kết nối:</td>
                                                <td>{{product.port}}</td>
                                            </tr>
                                            <tr>
                                                <td id="lable-pro">Thiết kế:</td>
                                                <td>{{product.designStyle}}</td>
                                            </tr>
                                            <tr>
                                                <td id="lable-pro">Kích thước - Cân nặng:</td>
                                                <td>{{product.sizeWeight}}</td>
                                            </tr>
                                            <tr>
                                                <td id="lable-pro">Thời điểm ra mắt:</td>
                                                <td>{{product.releaseTime}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <!-- <div class="product__desc m-t-25 m-b-30">
                                        <p>{{product.description}} </p>
                                    </div>
                                    <div class="product-var p-t-30">
                                        <p>RAM:&nbsp; {{product.ram}} </p>
                                    </div>
                                    <div class="product-var p-t-30">
                                        <p>CPU:&nbsp; {{product.cpu}} </p>
                                    </div>
                                    <div class="product-var p-t-30">
                                        <p>Màn hình:&nbsp; {{product.monitor}} </p>
                                    </div>
                                    <div class="product-var p-t-30">
                                        <p>Phù hợp cho :&nbsp; <a href="">{{product.category}}</a> </p>
                                    </div> -->

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- Start Product Details Tab -->
            <div class="lable-cmt">
                <h2 style="color: rgb(152, 150, 150);">Bình luận ({{product.comment}}) </h2>
            </div>
            <div class="col-md-12" style="border: 1px solid rgb(201, 200, 200); padding: 20px; border-radius: 5px;" id="comment">
              <div class="review-box">
                <div *ngFor="let cmt of comment" class="single-review" style="margin-bottom: 15px; display: block;" >
                   <div *ngIf="cmt.repId==0">
                    <div class="cmt-1" style="display: flex;">
                        <div class="img">
                            <img src="../../../assets/img/avtar-2.png" width="70px" alt="">
                        </div>
                        <div class="info1" style="margin-left: 10px; padding-top:5px;">
                            <div class="name"><span style="font-weight: bold;">{{cmt.tenNguoiDung}}</span>&nbsp;<small style="background-color: rgba(212, 225, 20, 0.903); color: white; padding: 1px 2px; border-radius: 5px;">{{cmt.danhGia}}&nbsp;<i class="fa fa-star" aria-hidden="true" style="color: white"></i></small></div>
                            <div class="time"><small>{{cmt.thoiGian | date:'dd/MM/yyyy hh:mm'}}</small>&nbsp; <a (click)="openRepComment(cmt.id)"><small id="lnk">Trả lời</small></a>&nbsp;&nbsp;<a *ngIf="cmt.userId==userid" (click)="removeComment(cmt.id)"><small id="lnk">Xoá</small></a> </div>
                            <div class="content" style="margin-top: 5px; border-bottom: 1px solid rgb(204, 199, 199); width: 600px;"><span style="font-size: 15px;">{{cmt.noiDung}}</span></div>
                            <ul class="lst-reply">
                                <li *ngFor="let c of comment">
                                    <div *ngIf="c.repId!=0&&c.repId==cmt.id">
                                        <div class="reply" style="margin-left: 10px; display: flex; margin-top: 10px;">
                                            <div class="img">
                                                <img src="../../../assets/img/avtar-2.png" width="40px" alt="">
                                            </div>
                                            <div class="info1" style="margin-left: 10px; padding-top:5px;">
                                                <div class="name"><span style="font-weight: bold;">{{c.tenNguoiDung}}</span></div>
                                                <div class="time"><small>{{c.thoiGian | date:'dd/MM/yyyy hh:mm'}}</small>&nbsp;<a *ngIf="c.userId==userid" (click)="removeComment(c.id)"><small id="lnk">Xoá</small></a></div>
                                                <div class="content" style="margin-top: 5px;"><span style="font-size: 15px;">{{c.noiDung}}</span></div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                               </ul>
                        </div>
                       </div>
                       
                   </div>
                   
                   
            
                </div>
              </div>
              
            </div>
            <div class="add-comment">
                <button (click)="openAddComment(product.id)">Viết bình luận</button>
              </div> <!-- End Product Details Tab -->

        </div>
        <div class="col-lg-12">

            <div class="lable-pro">SẢN PHẨM CÙNG LOẠI</div>



        </div>


        <!-- End Product Details Gallery -->
        <div class="tab-content ">

            <div class="tab-pane show active clearfix" id="sort-grid">
                <!-- Start Single Default Product -->

                <div *ngFor="let pro of category.slice(0,4)"
                    class="product__box product__box--default product__box--border-hover text-center float-left float-4">
                    <div class="product__img-box">
                        <a *ngIf="pro.image" (click)="goToProductDetails(pro.id)" class="product__img--link">
                            <img class="product__img" src="../../assets/img/product/{{pro.image}}" alt="">
                        </a>


                        <a (click)="addCart(pro.id)" data-toggle="modal"
                            class="btn btn--box btn--small btn--gray btn--uppercase btn--weight btn--hover-zoom product__upper-btn">Add
                            to cart</a>

                        <a (click)="addToWishList(pro.id)" class="product__wishlist-icon"><i class="icon-heart"></i></a>

                    </div>
                    <div class="product__price m-t-10">

                        <span class="product__price-reg">{{pro.price | currency:'VND'}}</span>
                    </div>
                    <a href="" class="product__link product__link--underline product__link--weight-light m-t-15">
                        {{pro.name}}
                    </a>
                </div>

            </div>


            <div class="show-all">
                <div class="btn">
                  <a (click)="viewAnother(product.categoryId)">Xem tất cả sản phẩm <i class="fa fa-caret-right"></i></a>
                </div>
              </div>
        </div>
    </div>

    <div *ngIf="isScroll" class="scroll">
        <button class="btn btn btn-danger">TOP</button>
    </div>
</main>

<style>
    .product-dis__title {
        font-weight: bold;
    }
    
    #lable-pro {
        font-weight: bold;

    }
    .lable-pro {
        margin-top: 20px;
        font-size: 20px;
        padding-bottom: 10px;
        font-weight: bold;
        align-items: center;
        border-bottom: 1px solid rgb(204, 198, 198);
        
    }
    .lable-pro button {

        color: white;
        font-size: 16px;
        padding: 5px;
        border-radius: 5px;
    }

    .lable-pro button:hover {
        color: #0063d1;
        font-size: 16px;
        padding-right: 5px;
        border-radius: 5px;
        background-color: white;
    }

    .tab-content {
        margin-bottom: 5px;
    }

    main {
        min-height: 1000px;
    }

    #slide {
        border-right: 1px solid rgb(200, 198, 198);
    }

    .star {
    background-color: rgb(19, 198, 19);
    border-radius: 5px;
    padding: 0px 4px;

    
    }

    .add-comment button {
        background-color: white;
        padding: 5px 8px;
        color: #0063d1;;
        border: 1px solid #0063d1;
        border-radius: 5px;
    }
    .add-comment button:hover {
        color: white;
        background-color: #0063d1;
    }
    .show-all {
    margin-top: 15px;
    display: flex;
    justify-content: center;
  }

 

  .show-all .btn a {
    text-decoration: none;
  }

  .show-all .btn:hover {
    background-color: rgb(68, 68, 243);
  }
  .show-all .btn:hover a{
    color: white;
  }
  #lnk:hover {
    color: rgb(106, 106, 250);
  }
  small {
    opacity: 70%;
  }
</style>